{% extends 'base.html.twig' %}

{% block title %}Admin{% endblock %}


{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('medel_assets/admin/css/plugins/dataTables/datatables.min.css') }}" rel="stylesheet">
{% endblock stylesheets %}
{% block body %}

        <div class="container">
            <div class="row">
                {#<div class="card-body" style="padding: 25px;">#}
                {% for message in app.flashes('success') %}
                    <div class="col-lg-12">
                        <div class="alert alert-success alert-dismissable ">
                            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
                            {{ message }}
                        </div>
                    </div>
                {% endfor %}
                {% for message in app.flashes('danger') %}
                    <div class="col-lg-12">
                        <div class="alert alert-danger alert-dismissable ">
                            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
                            {{ message }}
                        </div>
                    </div>
                {% endfor %}
                <div class="col-md-12">
                    <div class="ibox">
                        <div class="ibox-content b-r-md">
                            <div class="row">
                                <div class="col-sm-8 b-r">
                                    <h1 class="m-t-none m-b">Modifier mon mot de passe</h1>
                                    {% for flash_error in app.flashes('verify_email_error') %}
                                        <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
                                    {% endfor %}
                                    {{ form_start(form) }}
                                    <div class="form-group {% if form_errors(form.oldPassword) %}has-error{% endif %}">
                                        <label>Ancien mot de passe<span class="text-danger">*</span></label>
                                        {{ form_row(form.oldPassword, {
                                            "attr" : {
                                                'class' : 'form-control p-md b-r-md',
                                                'placeholder' : 'Votre ancien mot de passe'
                                            },
                                            'label' : false
                                        }) }}
                                        {{ form_errors(form.oldPassword) }}
                                    </div>

                                    <div class="form-group {% if form_errors(form.plainPassword.first) %}has-error{% endif %}">
                                        <label>Nouveau Mot de passe <span class="text-danger">*</span></label>
                                        {{ form_row(form.plainPassword.first, {
                                            "attr" : {
                                                'class' : 'form-control p-md b-r-md'
                                            },
                                            'label' : false
                                        }) }}
                                        {{ form_errors(form.plainPassword.first) }}
                                    </div>
                                    <div class="form-group {% if form_errors(form.plainPassword.second) %}has-error{% endif %}">
                                        <label>Confirmer nouveau Mot de passe <span class="text-danger">*</span></label>
                                        {{ form_row(form.plainPassword.second, {
                                            "attr" : {
                                                'class' : 'form-control p-md b-r-md'
                                            },
                                            'label' : false
                                        }) }}
                                    </div>


                                    <div>
                                        <button class="btn btn-primary btn-block" type="submit">
                                            <strong class="text-gray-dark"> <i class="fa fa-save"></i> Valider les modifications</strong>
                                        </button>
                                    </div>
                                    {{ form_end(form) }}
                                </div>
                                <div class="col-sm-4">
                                    <p class="text-warning text-left">
                                        Email : <strong>{{ app.user.email }}</strong> <br/>
                                        Login : <strong>{{ app.user.username }}</strong>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



{% endblock %}


{% block javascripts %}
    {{ parent() }}
{% endblock javascripts %}